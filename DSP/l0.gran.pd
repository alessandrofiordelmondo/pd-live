#N canvas 296 31 1287 1027 12;
#X obj 11 214 phasor~;
#X obj 252 36 snapshot~;
#X obj 12 83 *, f 5;
#X obj 11 245 *~;
#X obj 29 383 sig~;
#X obj 588 125 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 216 353 delay;
#X obj 30 359 line 0 2;
#X obj 112 9 r \$0-l0.gran.pitch;
#X obj 12 435 *~;
#X obj 614 126 loadbang;
#X obj 246 282 r \$0-l0.gran.len;
#X obj 12 583 outlet~;
#X obj 252 10 inlet~;
#X obj 32 308 pack 1024 f;
#X msg 31 334 0 \, \$1 \$2;
#X obj 447 416 u.rand;
#X obj 447 471 s \$0-l0.gran.pitch;
#X obj 447 444 * 0.001;
#X obj 584 447 u.rand;
#X obj 465 373 * 1000;
#X obj 515 371 * 1000;
#X msg 705 125 1000;
#X obj 584 472 s \$0-l0.gran.len;
#X obj 464 306 inlet;
#X obj 515 337 inlet;
#X obj 603 387 inlet;
#X obj 622 423 inlet;
#X msg 706 94 1;
#X obj 112 33 t b f;
#X obj 729 325 u.rand;
#X obj 749 236 inlet;
#X obj 729 357 s \$0-l0.gran.del;
#X text 305 9 1) cue (0 - 1);
#X text 740 94 init pitch;
#X text 746 125 init gran len;
#X text 651 387 4) min gran len (ms);
#X text 672 424 5) max gran len (ms);
#X text 509 303 2) min pitch (stretch);
#X text 560 340 3) max pitch (stretch);
#X text 799 237 6) density (%);
#X obj 769 297 * 2;
#X obj 247 324 +, f 18;
#X obj 373 283 r \$0-l0.gran.del;
#X msg 704 155 100;
#X text 745 155 init density;
#X obj 749 266 expr (100-$f1)*50;
#X obj 874 356 inlet;
#X text 924 357 7) pan spread (%);
#X obj 835 391 random;
#X obj 835 445 s \$0-l0.gran.pan;
#X msg 705 187 0;
#X text 746 187 init pan;
#X obj 13 552 *~;
#X obj 113 552 *~;
#X obj 131 439 r \$0-l0.gran.pan;
#X obj 130 495 line~;
#X msg 130 467 \$1 10;
#X obj 113 580 outlet~;
#X obj 588 150 t b b b;
#X obj 216 385 t b b b b b;
#X obj 130 522 expr~ 1-$v1;
#X obj 835 418 expr 0.5 + ( ($f1/100) - ( 0.5 * ($f2/100) ));
#X obj 234 125 r \$0-l0.gran.len;
#X obj 57 114 expr if ($f1<0 \, 1+$f1 \, if ($f1>1 \, $f1-1 \, $f1)), f 24;
#X text 60 96 make the cue between 0 and 1;
#X text 62 193 check the cue+grain does not go beyond 1;
#X text 585 171 trigger core;
#X obj 57 159 expr if ( ($f1*$f3)+$f2 > $f3 \, ($f3-$f2)/$f3 \, $f1 );
#X obj 29 407 tabread4~ \$4;
#X obj 11 274 tabread4~ \$3;
#X obj -4 9 r \$2-phasor_freq;
#X obj 356 125 r \$2-bs_ms;
#X obj 53 245 r \$2-bs_smpl;
#X connect 0 0 3 0;
#X connect 1 0 64 0;
#X connect 2 0 0 0;
#X connect 3 0 70 0;
#X connect 4 0 69 0;
#X connect 5 0 59 0;
#X connect 6 0 60 0;
#X connect 7 0 4 0;
#X connect 8 0 29 0;
#X connect 9 0 53 0;
#X connect 9 0 54 0;
#X connect 10 0 28 0;
#X connect 10 0 22 0;
#X connect 10 0 44 0;
#X connect 10 0 51 0;
#X connect 10 0 59 0;
#X connect 11 0 14 1;
#X connect 11 0 42 0;
#X connect 13 0 1 0;
#X connect 14 0 15 0;
#X connect 15 0 7 0;
#X connect 16 0 18 0;
#X connect 18 0 17 0;
#X connect 19 0 23 0;
#X connect 20 0 16 1;
#X connect 21 0 16 2;
#X connect 22 0 19 2;
#X connect 22 0 19 1;
#X connect 24 0 20 0;
#X connect 25 0 21 0;
#X connect 26 0 19 1;
#X connect 27 0 19 2;
#X connect 28 0 21 0;
#X connect 28 0 20 0;
#X connect 29 0 2 0;
#X connect 29 1 2 1;
#X connect 30 0 32 0;
#X connect 31 0 46 0;
#X connect 41 0 30 2;
#X connect 42 0 6 1;
#X connect 43 0 42 1;
#X connect 44 0 46 0;
#X connect 46 0 30 1;
#X connect 46 0 41 0;
#X connect 47 0 49 1;
#X connect 47 0 62 1;
#X connect 49 0 62 0;
#X connect 51 0 49 1;
#X connect 53 0 12 0;
#X connect 54 0 58 0;
#X connect 55 0 57 0;
#X connect 56 0 54 1;
#X connect 56 0 61 0;
#X connect 57 0 56 0;
#X connect 59 0 14 0;
#X connect 59 1 1 0;
#X connect 59 2 6 0;
#X connect 60 0 5 0;
#X connect 60 1 16 0;
#X connect 60 2 19 0;
#X connect 60 3 30 0;
#X connect 60 4 49 0;
#X connect 61 0 53 1;
#X connect 62 0 50 0;
#X connect 63 0 68 1;
#X connect 64 0 68 0;
#X connect 68 0 0 1;
#X connect 69 0 9 1;
#X connect 70 0 9 0;
#X connect 71 0 2 0;
#X connect 72 0 68 2;
#X connect 73 0 3 1;
